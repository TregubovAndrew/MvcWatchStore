@model WatchStoreWeb.Models.WatchModel



<div class=" col-sm-4">
    @{
        var path = @Model.Name + " – " + @Model.Colour + ".jpg";
    }
    @*<img src="~/Content/images/@path" width="200" height="200" />*@
    @foreach (var img in Model.Images)
    {
        <a href="@Url.Action("WatchDetails","Watch", new
                 {
                     id = Model.Id,
                     returnUrl = Request.Url.PathAndQuery
                 })">
            <img src="data:image/png;base64,@Convert.ToBase64String(img.ImageData)" width="200" height="200" />
        </a>
    }

    <div>
        <h4>
            <strong>Name : @Model.Name</strong>
        </h4>
        <h5>Brand : @Model.Brand</h5>
        <h5>Colour : @Model.Colour</h5>
        @*@Html.ActionLink("Watch Details", "WatchDetails", new
            {
                id = Model.Id,
                returnUrl = Request.Url.PathAndQuery

            })*@
        @if (Request.IsAuthenticated)
        {
            <div>
                @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
                @Html.ActionLink("Details", "Details", new { id = Model.Id }) |
                @Html.ActionLink("Delete", "Delete", new { id = Model.Id })
            </div>
        }
        @using (Html.BeginForm("AddToCart", "Cart"))
        {
            <div>
                @Html.HiddenFor(x => x.Id)
                @Html.Hidden("returnUrl", Request.Url.PathAndQuery)
                <input type="submit" class="btn btn-success" value="Add to cart" />
            </div>
        }
        <br />
        @*@Html.ActionLink("AddToOrder","Order",null,@item);*@
    </div>
</div>

